(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c9e8541"],{"0210":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"table"},[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 设备列表")])],1)],1),i("div",{staticClass:"container"},[i("div",{staticClass:"handle-box"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.select}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"设备id"}},[i("el-input",{staticClass:"handle-input-id",attrs:{maxlength:"40px",placeholder:"请输入设备id"},model:{value:e.select.id,callback:function(t){e.$set(e.select,"id",t)},expression:"select.id"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"所属厂区"}},[i("el-input",{staticClass:"handle-input-address",attrs:{placeholder:"请输入所属厂区"},model:{value:e.select.address,callback:function(t){e.$set(e.select,"address",t)},expression:"select.address"}})],1)],1),i("el-col",{attrs:{span:4}},[i("el-form-item",[i("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(t){e.search()}}},[e._v("搜索")])],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"告警等级"}},[i("el-select",{staticClass:"handle-input-grade",attrs:{placeholder:"请选择告警等级"},model:{value:e.select.grade,callback:function(t){e.$set(e.select,"grade",t)},expression:"select.grade"}},[i("el-option",{key:"1",attrs:{label:"1",value:"1"}}),i("el-option",{key:"2",attrs:{label:"2",value:"2"}}),i("el-option",{key:"3",attrs:{label:"3",value:"3"}}),i("el-option",{key:"4",attrs:{label:"4",value:"4"}})],1)],1)],1),i("el-col",{attrs:{span:20}},[i("el-form-item",{attrs:{label:"检测时间"}},[i("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"请选择开始时间","end-placeholder":"请选择结束时间",align:"right"},model:{value:e.select.time,callback:function(t){e.$set(e.select,"time",t)},expression:"select.time"}})],1)],1),i("el-col",{attrs:{span:24}},[i("el-form-item",[[i("el-button",{staticClass:"handle-read",attrs:{type:"primary",icon:"read"},on:{click:e.getData}},[e._v("导入数据")]),i("el-button",{staticClass:"handle-del",attrs:{type:"primary",icon:"delete"},on:{click:e.handleDeleteALL}},[e._v("批量删除")]),i("el-button",{staticClass:"handle-add",attrs:{type:"primary",icon:"add"},on:{click:e.handleAdd}},[e._v("添加数据")])]],2)],1)],1)],1),i("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",total:"100","page-size":"8","max-height":"350"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),i("el-table-column",{attrs:{label:"序号",prop:"num",type:"integer",width:"60"}}),i("el-table-column",{attrs:{prop:"warning_id",label:"告警编号",type:"integer",width:"150","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"device_id",label:"设备id",type:"integer",width:"150","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"device_port",label:"设备端口",width:"150","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"device_address",label:"所属厂区",width:"150","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"warning_time",label:"告警时间",width:"150","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"warning_code",label:"告警代码",width:"150","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"warning_grade",label:"告警等级",width:"100","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){e.handleEdit(t.row)}}},[e._v("编辑")]),i("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",small:"","page-sizes":[5,10,15,20,30],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.allData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),i("el-dialog",{attrs:{title:"添加",visible:e.addVisible,width:"40%"},on:{"update:visible":function(t){e.addVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"告警编号"}},[i("el-input",{attrs:{type:"integer"},model:{value:e.form.warning_id,callback:function(t){e.$set(e.form,"warning_id",t)},expression:"form.warning_id"}})],1),i("el-form-item",{attrs:{label:"设备id"}},[i("el-input",{attrs:{type:"integer"},model:{value:e.form.device_id,callback:function(t){e.$set(e.form,"device_id",t)},expression:"form.device_id"}})],1),i("el-form-item",{attrs:{label:"设备端口"}},[i("el-input",{attrs:{type:"integer"},model:{value:e.form.device_port,callback:function(t){e.$set(e.form,"device_port",t)},expression:"form.device_port"}})],1),i("el-form-item",{attrs:{label:"所属厂区"}},[i("el-input",{model:{value:e.form.device_address,callback:function(t){e.$set(e.form,"device_address",t)},expression:"form.device_address"}})],1),i("el-form-item",{attrs:{label:"告警时间"}},[i("el-input",{attrs:{placeholder:"xx/xx/xx xx:xx",type:"integer"},model:{value:e.form.warning_time,callback:function(t){e.$set(e.form,"warning_time",t)},expression:"form.warning_time"}})],1),i("el-form-item",{attrs:{label:"告警代码"}},[i("el-input",{attrs:{type:"integer"},model:{value:e.form.warning_code,callback:function(t){e.$set(e.form,"warning_code",t)},expression:"form.warning_code"}})],1),i("el-form-item",{attrs:{label:"告警等级"}},[i("el-select",{attrs:{placeholder:"请选择告警等级"},model:{value:e.form.warning_grade,callback:function(t){e.$set(e.form,"warning_grade",t)},expression:"form.warning_grade"}},[i("el-option",{key:"1",attrs:{label:"1",value:"1"}}),i("el-option",{key:"2",attrs:{label:"2",value:"2"}}),i("el-option",{key:"3",attrs:{label:"3",value:"3"}}),i("el-option",{key:"4",attrs:{label:"4",value:"4"}})],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.addVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.saveAdd}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"编辑",visible:e.editVisible,width:"40%"},on:{"update:visible":function(t){e.editVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"告警编号"}},[i("el-input",{attrs:{type:"integer"},model:{value:e.form.warning_id,callback:function(t){e.$set(e.form,"warning_id",t)},expression:"form.warning_id"}})],1),i("el-form-item",{attrs:{label:"设备id"}},[i("el-input",{attrs:{type:"integer"},model:{value:e.form.device_id,callback:function(t){e.$set(e.form,"device_id",t)},expression:"form.device_id"}})],1),i("el-form-item",{attrs:{label:"设备端口"}},[i("el-input",{attrs:{type:"integer"},model:{value:e.form.device_port,callback:function(t){e.$set(e.form,"device_port",t)},expression:"form.device_port"}})],1),i("el-form-item",{attrs:{label:"所属厂区"}},[i("el-input",{model:{value:e.form.device_address,callback:function(t){e.$set(e.form,"device_address",t)},expression:"form.device_address"}})],1),i("el-form-item",{attrs:{label:"告警时间"}},[i("el-input",{attrs:{placeholder:"xx/xx/xx xx:xx",type:"integer"},model:{value:e.form.warning_time,callback:function(t){e.$set(e.form,"warning_time",t)},expression:"form.warning_time"}})],1),i("el-form-item",{attrs:{label:"告警代码"}},[i("el-input",{attrs:{type:"integer"},model:{value:e.form.warning_code,callback:function(t){e.$set(e.form,"warning_code",t)},expression:"form.warning_code"}})],1),i("el-form-item",{attrs:{label:"告警等级"}},[i("el-select",{attrs:{placeholder:"请选择告警等级"},model:{value:e.form.warning_grade,callback:function(t){e.$set(e.form,"warning_grade",t)},expression:"form.warning_grade"}},[i("el-option",{key:"1",attrs:{label:"1",value:"1"}}),i("el-option",{key:"2",attrs:{label:"2",value:"2"}}),i("el-option",{key:"3",attrs:{label:"3",value:"3"}}),i("el-option",{key:"4",attrs:{label:"4",value:"4"}})],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"搜索结果",visible:e.searchVisible,width:"60%"},on:{"update:visible":function(t){e.searchVisible=t}}},[i("el-table",{attrs:{data:e.searchRes}},[i("el-table-column",{attrs:{label:"页号",prop:"page_idx",type:"integer",width:"60"}}),i("el-table-column",{attrs:{label:"序号",prop:"num",type:"integer",width:"150"}}),i("el-table-column",{attrs:{label:"告警编号",prop:"warning_id",type:"integer",width:"150","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"device_id",label:"设备id",type:"integer",width:"150","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"device_port",label:"设备端口",width:"150","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"device_address",label:"所属厂区",width:"150","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"warning_time",label:"告警时间",width:"150","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"warning_code",label:"告警代码",width:"150","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"warning_grade",label:"告警等级",type:"integer",width:"150","show-overflow-tooltip":""}})],1)],1),i("el-dialog",{attrs:{title:"提示",visible:e.delVisible,width:"300px",center:""},on:{"update:visible":function(t){e.delVisible=t}}},[i("div",{staticClass:"del-dialog-cnt"},[e._v("删除不可恢复，是否确定删除？")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.delVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.deleteRow}},[e._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"提示",visible:e.delallVisible,width:"300px",center:""},on:{"update:visible":function(t){e.delallVisible=t}}},[i("div",{staticClass:"del-all-dialog-cnt"},[e._v("批量删除不可恢复，是否确定删除？")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.delallVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.delAll}},[e._v("确 定")])],1)])],1)},l=[],r=(i("7514"),i("7f7f"),i("cadf"),i("551c"),i("097d"),{name:"DeviceList",data:function(){return{url:"/public/vuetable.json",allData:[{num:"1",warning_id:"1",device_id:"22",device_port:"1254613",device_address:"撒大大",warning_time:"2022-12-5-12:05",warning_code:"sdasdas",warning_grade:"2"},{num:"3",warning_id:"2",device_id:"33",device_port:"1254613",device_address:"所属",warning_time:"2022-12-5-12:05",warning_code:"sdasdas",warning_grade:"2"},{num:"2",warning_id:"3",device_id:"11",device_port:"1254613",device_address:"达到",warning_time:"2022-12-5-12:05",warning_code:"sdasdas",warning_grade:"2"},{num:"5",warning_id:"4",device_id:"55",device_port:"1254613",device_address:"所属撒旦",warning_time:"2022-12-5-12:05",warning_code:"sdasdas",warning_grade:"2"},{num:"4",warning_id:"5",device_id:"44",device_port:"1254613",device_address:"撒旦萨达撒",warning_time:"2022-12-5-12:05",warning_code:"sdasdas",warning_grade:"2"},{num:"7",warning_id:"6",device_id:"77",device_port:"1254613",device_address:"撒旦撒旦所属",warning_time:"2022-12-5-12:05",warning_code:"sdasdas",warning_grade:"2"},{num:"6",warning_id:"7",device_id:"66",device_port:"1254613",device_address:"撒大苏打大苏打是的",warning_time:"2022-12-5-12:05",warning_code:"sdasdas",warning_grade:"2"}],tableData:[],cur_page:1,page_size:10,multipleSelection:[],select:{id:"",time:"",address:"",frade:""},del_list:[],is_search:!1,editVisible:!1,addVisible:!1,delVisible:!1,delallVisible:!1,searchVisible:!1,form:{num:"",warning_id:"",device_id:"",device_port:"",device_address:"",warning_time:"",warning_code:"",warning_grade:""},rules:{device_id:[{required:!0,message:"请输入设备id",trigger:"blur"},{type:"number",message:"设备id必须为数字",trigger:"blur"}],device_address:[{required:!0,message:"请输入所属厂区",trigger:"blur"}]},idx:-1,row:[],searchRes:[]}},created:function(){this.getData(),this.getpageData()},computed:{data:function(){var e=this;return this.tableData.filter(function(t){for(var i=!1,a=0;a<e.del_list.length;a++)if(t.device_id===e.del_list[a].device_id){i=!0;break}if(!i&&t.address.indexOf(e.select.id)>-1&&(t.name.indexOf(e.select_address)>-1||t.address.indexOf(e.select_address)>-1))return t})}},methods:{handleSizeChange:function(e){this.page_size=e,this.getpageData()},handleCurrentChange:function(e){this.cur_page=e,this.getpageData()},getpageData:function(){this.tableData.splice(0,this.tableData.length);for(var e=0;e<this.page_size;e++){if(!((this.cur_page-1)*this.page_size+e<this.allData.length))break;this.tableData.push(this.allData[(this.cur_page-1)*this.page_size+e])}for(var t=0;t<this.tableData.length;t++)this.tableData[t].num=(this.cur_page-1)*this.page_size+t+1},sortData:function(){for(var e=0;e<this.allData.length;e++)this.allData[e].num=e+1},getData:function(){console.log("getData successfully")},search:function(){var e=this;this.searchRes.splice(0,this.searchRes.length),this.select.id?(this.searchRes=this.allData.find(function(t){if(t.device_id.indexOf(e.select.id)>-1)return t}),console.log("Res",this.searchRes),this.select={id:"",time:"",address:"",frade:""},this.searchVisible=!0):this.$message.error("输入不能为空")},handleAdd:function(){this.form={num:"",warning_id:"",device_id:"",device_port:"",device_address:"",warning_time:"",warning_code:"",warning_grade:""},this.addVisible=!0},handleEdit:function(e){this.row=e,this.idx=this.allData.indexOf(this.row);var t=this.allData[this.idx];this.form={num:t.num,warning_id:t.warning_id,device_id:t.device_id,device_port:t.device_port,device_address:t.device_address,warning_time:t.warning_time,warning_code:t.warning_code,warning_grade:t.warning_grade},this.editVisible=!0},handleDelete:function(e){this.row=e,this.idx=this.allData.indexOf(this.row);var t=this.allData[this.idx];this.form={num:t.num,warning_id:t.warning_id,device_id:t.device_id,device_port:t.device_port,device_address:t.device_address,warning_time:t.warning_time,warning_code:t.warning_code,warning_grade:t.warning_grade},this.delVisible=!0},handleDeleteALL:function(){0!=this.multipleSelection.length?this.delallVisible=!0:this.$message.error("尚未选中要删除行")},delAll:function(){var e=this,t=this.multipleSelection.length;this.del_list=this.del_list.concat(this.multipleSelection);for(var i=function(t){e.allData=e.allData.filter(function(i){return i.device_id!==e.multipleSelection[t].device_id})},a=0;a<t;a++)i(a);this.getpageData(),0==this.tableData.length&&(this.cur_page--,this.getpageData()),this.multipleSelection=[],this.$message.error("批量删除成功"),this.delallVisible=!1},handleSelectionChange:function(e){this.multipleSelection=e},saveEdit:function(){""!=this.form.warning_id&&""!=this.form.device_id&&""!=this.form.device_port&&""!=this.form.device_address&&""!=this.form.warning_time&&""!=this.form.warning_code&&""!=this.form.warning_grade&&(this.$set(this.allData,this.idx,this.form),this.getpageData(),this.editVisible=!1,this.$message.success("修改成功"))},saveAdd:function(){console.log("forms",this.form),""!=this.form.warning_id&&""!=this.form.device_id&&""!=this.form.device_port&&""!=this.form.device_address&&""!=this.form.warning_time&&""!=this.form.warning_code&&""!=this.form.warning_grade&&(this.form.num=this.allData.length+1,this.allData.push(this.form),this.getpageData(),this.addVisible=!1,this.$message.success("添加成功"))},deleteRow:function(){var e=this;this.allData=this.allData.filter(function(t){return t.device_id!==e.row.device_id}),this.getpageData(),0==this.tableData.length&&(this.cur_page--,this.getpageData()),this.delVisible=!1,this.$message.error("删除成功")}}}),s=r,n=(i("b890"),i("2877")),o=Object(n["a"])(s,a,l,!1,null,"6b5852de",null);o.options.__file="DataTable.vue";t["default"]=o.exports},ac15:function(e,t,i){},b890:function(e,t,i){"use strict";var a=i("ac15"),l=i.n(a);l.a}}]);